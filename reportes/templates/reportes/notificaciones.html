{% extends "core/base.html" %}

{% load static %}

{% block title %}Dux | Reportes de Notificaciones{% endblock title %}}

{% block custom_css %}
	<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/v/bs4/dt-1.10.18/b-1.5.4/b-flash-1.5.4/datatables.min.css"/>
	{# <link rel="stylesheet" href="//cdn.datatables.net/1.10.18/css/dataTables.bootstrap4.min.css"> #}
{% endblock custom_css %}

{% block content %}
	<div class="container-fluid">
		<h1 class="text-center">Reporte de Notificaciones</h1>
		<div class="row">
			<div class="col-12 my-2 text-center">
				<table id="tbl-reporte" class="table table-striped table-bordered table-hover table-sm">
					<thead>
						<th>Id</th>
						<th>Peaje</th>
						<th>Fecha Emitida</th>
						<th>Matrícula</th>
						<th>Patrullero</th>
						<th>Entregada</th>
						<th>Alcanzado</th>
						<th>Atendida</th>
						<th>Fecha Entregada</th>
						<th>Fecha Atendida</th>
					</thead>
					<tbody>
						{% for notificacion in notificaciones %}
							<tr>
								<td class="align-middle">{{ notificacion.pk }}</td>
								<td class="align-middle">{{ notificacion.alerta.lectura.peaje.nombre }}</td>
								<td class="align-middle">{{ notificacion.alerta.fecha|date:"d/m/Y H:i:s" }}</td>
								<td class="align-middle">{{ notificacion.alerta.lectura.matricula }}</td>
								<td class="align-middle">{{ notificacion.patrullero.nombre }}</td>
								<td class="align-middle">{{ notificacion.entregada|yesno:"Sí,No" }}</td>
								<td class="align-middle">{{ notificacion.alcanzado|yesno:"Sí,No" }}</td>
								<td class="align-middle">{{ notificacion.atendida|yesno:"Sí,No" }}</td>
								<td class="align-middle">{{ notificacion.fecha_entregada|date:"d/m/Y H:i:s" }}</td>
								<td class="align-middle">{{ notificacion.fecha_atendida|date:"d/m/Y H:i:s" }}</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<br>
{% endblock content %}

{% block custom_js %}
	<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.18/b-1.5.4/b-flash-1.5.4/datatables.min.js"></script>
	<script src="{% static 'reportes/js/datatables.js' %}"></script>
{% endblock custom_js %}